#!/bin/bash
# Automated eyeInspect Sensor Upgrader
# Modified: 2024-04-03
# Author: AT Sowell
# go to line 356 for actual code
# Setting some global variables:

TIMESTAMP=$(date +%Y%m%d_%H%M)
SENSORS="$(pwd)/sensors.txt"
SDUSERNAME="silentdefense"
HOMEPATH="/home/${SDUSERNAME}"

#Setup our log file:
LOGFILE="${HOMEPATH}/sensor_upgrade_${TIMESTAMP}.log"

# Real variables:
#OSUPGRADE="os-update-2023-09-28.run"
#SENSORUPGRADE="sensor_5.2.1_install_amd64.run"
# Test variables:
SENSORUPGRADE="${HOMEPATH}/sensorupgrader.sh"
OSUPGRADE="${HOMEPATH}/osupgrader.sh"

LINE() {
        printf '\n%*s\n' "${COLUMNS:-$(tput cols)}" '' | tr ' ' '#'
}

LINE

# sshpass embedded for securely passing password through parallel-ssh/parallel-scp
ENCODEDSSHPASS="
f0VMRgIBAQAAAAAAAAAAAAMAPgABAAAAkBUAAAAAAABAAAAAAAAAAEhBAAAAAAAAAAAAAEAAOAAL
AEAAGwAaAAYAAAAEAAAAQAAAAAAAAABAAAAAAAAAAEAAAAAAAAAAaAIAAAAAAABoAgAAAAAAAAgA
AAAAAAAAAwAAAAQAAACoAgAAAAAAAKgCAAAAAAAAqAIAAAAAAAAcAAAAAAAAABwAAAAAAAAAAQAA
AAAAAAABAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEgPAAAAAAAASA8AAAAAAAAAEAAA
AAAAAAEAAAAFAAAAABAAAAAAAAAAEAAAAAAAAAAQAAAAAAAA3RMAAAAAAADdEwAAAAAAAAAQAAAA
AAAAAQAAAAQAAAAAMAAAAAAAAAAwAAAAAAAAADAAAAAAAADYCwAAAAAAANgLAAAAAAAAABAAAAAA
AAABAAAABgAAAJA8AAAAAAAAkEwAAAAAAACQTAAAAAAAAJADAAAAAAAAUAQAAAAAAAAAEAAAAAAA
AAIAAAAGAAAAoDwAAAAAAACgTAAAAAAAAKBMAAAAAAAA8AEAAAAAAADwAQAAAAAAAAgAAAAAAAAA
BAAAAAQAAADEAgAAAAAAAMQCAAAAAAAAxAIAAAAAAABEAAAAAAAAAEQAAAAAAAAABAAAAAAAAABQ
5XRkBAAAAAw4AAAAAAAADDgAAAAAAAAMOAAAAAAAAIQAAAAAAAAAhAAAAAAAAAAEAAAAAAAAAFHl
dGQGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAUuV0
ZAQAAACQPAAAAAAAAJBMAAAAAAAAkEwAAAAAAABwAwAAAAAAAHADAAAAAAAAAQAAAAAAAAAvbGli
NjQvbGQtbGludXgteDg2LTY0LnNvLjIABAAAABQAAAADAAAAR05VANDM6Bmv87hZdVBo6Xpf0lxv
7DCPBAAAABAAAAABAAAAR05VAAAAAAADAAAAAgAAAAAAAAADAAAAKwAAAAEAAAAGAAAAAAWBAAAB
HAIrAAAALQAAAC4AAAAoHYwc0WXObTnyixwyxPcSs6L3EgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
APcAAAASAAAAAAAAAAAAAAAAAAAAAAAAALoAAAASAAAAAAAAAAAAAAAAAAAAAAAAAFIAAAASAAAA
AAAAAAAAAAAAAAAAAAAAAJUAAAASAAAAAAAAAAAAAAAAAAAAAAAAALUBAAAgAAAAAAAAAAAAAAAA
AAAAAAAAAEgAAAASAAAAAAAAAAAAAAAAAAAAAAAAAFIBAAASAAAAAAAAAAAAAAAAAAAAAAAAABoB
AAASAAAAAAAAAAAAAAAAAAAAAAAAAIIAAAASAAAAAAAAAAAAAAAAAAAAAAAAAF4AAAASAAAAAAAA
AAAAAAAAAAAAAAAAAOgAAAASAAAAAAAAAAAAAAAAAAAAAAAAADUAAAASAAAAAAAAAAAAAAAAAAAA
AAAAAAwBAAASAAAAAAAAAAAAAAAAAAAAAAAAADEBAAASAAAAAAAAAAAAAAAAAAAAAAAAAEsBAAAS
AAAAAAAAAAAAAAAAAAAAAAAAAKYAAAASAAAAAAAAAAAAAAAAAAAAAAAAAGEBAAASAAAAAAAAAAAA
AAAAAAAAAAAAAEEAAAASAAAAAAAAAAAAAAAAAAAAAAAAACgBAAASAAAAAAAAAAAAAAAAAAAAAAAA
AIkAAAASAAAAAAAAAAAAAAAAAAAAAAAAANEBAAAgAAAAAAAAAAAAAAAAAAAAAAAAAHsAAAASAAAA
AAAAAAAAAAAAAAAAAAAAAOEAAAASAAAAAAAAAAAAAAAAAAAAAAAAAG8AAAASAAAAAAAAAAAAAAAA
AAAAAAAAAPAAAAASAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAASAAAAAAAAAAAAAAAAAAAAAAAAAAgA
AAASAAAAAAAAAAAAAAAAAAAAAAAAACABAAASAAAAAAAAAAAAAAAAAAAAAAAAADcBAAASAAAAAAAA
AAAAAAAAAAAAAAAAAC4AAAASAAAAAAAAAAAAAAAAAAAAAAAAALMAAAASAAAAAAAAAAAAAAAAAAAA
AAAAABIBAAASAAAAAAAAAAAAAAAAAAAAAAAAAKsAAAASAAAAAAAAAAAAAAAAAAAAAAAAABUAAAAS
AAAAAAAAAAAAAAAAAAAAAAAAABkBAAASAAAAAAAAAAAAAAAAAAAAAAAAAMIAAAASAAAAAAAAAAAA
AAAAAAAAAAAAAOABAAAgAAAAAAAAAAAAAAAAAAAAAAAAAHQAAAASAAAAAAAAAAAAAAAAAAAAAAAA
AFgBAAASAAAAAAAAAAAAAAAAAAAAAAAAACEAAAASAAAAAAAAAAAAAAAAAAAAAAAAANAAAAASAAAA
AAAAAAAAAAAAAAAAAAAAAE0AAAASAAAAAAAAAAAAAAAAAAAAAAAAANoAAAARABgAIFAAAAAAAAAI
AAAAAAAAADwBAAAiAAAAAAAAAAAAAAAAAAAAAAAAAAUBAAARABgAYFAAAAAAAAAIAAAAAAAAABoA
AAARABgAKFAAAAAAAAAEAAAAAAAAAP4AAAARABgAQFAAAAAAAAAIAAAAAAAAAABmZmx1c2gAX19w
cmludGZfY2hrAGV4aXQAb3B0aW5kAHBvc2l4X29wZW5wdABwZXJyb3IAX19mZGVsdF9jaGsAc2ln
bmFsAHB1dHMAZm9yawBzaWdwcm9jbWFzawBfX3N0YWNrX2Noa19mYWlsAGtpbGwAc3RyZHVwAHN0
cnRvbABzdHJsZW4Ac2lnZW1wdHlzZXQAX19lcnJub19sb2NhdGlvbgByZWFkAGdyYW50cHQAZ2V0
b3B0AHB0c25hbWUAX19mcHJpbnRmX2NoawBzaWdhZGRzZXQAc3Rkb3V0AG1lbWNweQBwc2VsZWN0
AG1hbGxvYwBnZXRlbnYAb3B0YXJnAHN0ZGVycgBpb2N0bABleGVjdnAAZndyaXRlAHdhaXRwaWQA
dW5sb2NrcHQAY2xvc2UAb3BlbgBfX2N4YV9maW5hbGl6ZQBzZXRzaWQAZmNudGwAc3RyZXJyb3IA
X19saWJjX3N0YXJ0X21haW4AbGliYy5zby42AEdMSUJDXzIuMy40AEdMSUJDXzIuMTQAR0xJQkNf
Mi4xNQBHTElCQ18yLjQAR0xJQkNfMi4yLjUAX0lUTV9kZXJlZ2lzdGVyVE1DbG9uZVRhYmxlAF9f
Z21vbl9zdGFydF9fAF9JVE1fcmVnaXN0ZXJUTUNsb25lVGFibGUAAAACAAIAAgACAAAAAgACAAIA
AgADAAIABAACAAIAAgACAAIAAgACAAIAAAACAAUAAgACAAIABgACAAIAAgACAAIAAgACAAIABgAA
AAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAQAFAHMBAAAQAAAAAAAAAHQZaQkAAAYAfQEAABAA
AACUkZYGAAAFAIkBAAAQAAAAlZGWBgAABACUAQAAEAAAABRpaQ0AAAMAnwEAABAAAAB1GmkJAAAC
AKkBAAAAAAAAkEwAAAAAAAAIAAAAAAAAAHAWAAAAAAAAmEwAAAAAAAAIAAAAAAAAADAWAAAAAAAA
CFAAAAAAAAAIAAAAAAAAAAhQAAAAAAAAGFAAAAAAAAAIAAAAAAAAAG0wAAAAAAAA2E8AAAAAAAAG
AAAABQAAAAAAAAAAAAAA4E8AAAAAAAAGAAAAEQAAAAAAAAAAAAAA6E8AAAAAAAAGAAAAFQAAAAAA
AAAAAAAA8E8AAAAAAAAGAAAAJQAAAAAAAAAAAAAA+E8AAAAAAAAGAAAALAAAAAAAAAAAAAAAIFAA
AAAAAAAFAAAAKwAAAAAAAAAAAAAAKFAAAAAAAAAFAAAALgAAAAAAAAAAAAAAQFAAAAAAAAAFAAAA
LwAAAAAAAAAAAAAAYFAAAAAAAAAFAAAALQAAAAAAAAAAAAAAqE4AAAAAAAAHAAAAAQAAAAAAAAAA
AAAAsE4AAAAAAAAHAAAAAgAAAAAAAAAAAAAAuE4AAAAAAAAHAAAAAwAAAAAAAAAAAAAAwE4AAAAA
AAAHAAAABAAAAAAAAAAAAAAAyE4AAAAAAAAHAAAABgAAAAAAAAAAAAAA0E4AAAAAAAAHAAAABwAA
AAAAAAAAAAAA2E4AAAAAAAAHAAAACAAAAAAAAAAAAAAA4E4AAAAAAAAHAAAACQAAAAAAAAAAAAAA
6E4AAAAAAAAHAAAACgAAAAAAAAAAAAAA8E4AAAAAAAAHAAAACwAAAAAAAAAAAAAA+E4AAAAAAAAH
AAAADAAAAAAAAAAAAAAAAE8AAAAAAAAHAAAADQAAAAAAAAAAAAAACE8AAAAAAAAHAAAADgAAAAAA
AAAAAAAAEE8AAAAAAAAHAAAADwAAAAAAAAAAAAAAGE8AAAAAAAAHAAAAEAAAAAAAAAAAAAAAIE8A
AAAAAAAHAAAAEgAAAAAAAAAAAAAAKE8AAAAAAAAHAAAAEwAAAAAAAAAAAAAAME8AAAAAAAAHAAAA
FAAAAAAAAAAAAAAAOE8AAAAAAAAHAAAAFgAAAAAAAAAAAAAAQE8AAAAAAAAHAAAAFwAAAAAAAAAA
AAAASE8AAAAAAAAHAAAAGAAAAAAAAAAAAAAAUE8AAAAAAAAHAAAAGQAAAAAAAAAAAAAAWE8AAAAA
AAAHAAAAGgAAAAAAAAAAAAAAYE8AAAAAAAAHAAAAGwAAAAAAAAAAAAAAaE8AAAAAAAAHAAAAHAAA
AAAAAAAAAAAAcE8AAAAAAAAHAAAAHQAAAAAAAAAAAAAAeE8AAAAAAAAHAAAAHgAAAAAAAAAAAAAA
gE8AAAAAAAAHAAAAHwAAAAAAAAAAAAAAiE8AAAAAAAAHAAAAIAAAAAAAAAAAAAAAkE8AAAAAAAAH
AAAAIQAAAAAAAAAAAAAAmE8AAAAAAAAHAAAAIgAAAAAAAAAAAAAAoE8AAAAAAAAHAAAAIwAAAAAA
AAAAAAAAqE8AAAAAAAAHAAAAJAAAAAAAAAAAAAAAsE8AAAAAAAAHAAAAJgAAAAAAAAAAAAAAuE8A
AAAAAAAHAAAAJwAAAAAAAAAAAAAAwE8AAAAAAAAHAAAAKAAAAAAAAAAAAAAAyE8AAAAAAAAHAAAA
KQAAAAAAAAAAAAAA0E8AAAAAAAAHAAAAKgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEiD7AhIiwXd
PwAASIXAdAL/0EiDxAjDAAAAAAAAAAAA/zVyPgAA/yV0PgAADx9AAP8lcj4AAGgAAAAA6eD/////
JWo+AABoAQAAAOnQ/////yViPgAAaAIAAADpwP////8lWj4AAGgDAAAA6bD/////JVI+AABoBAAA
AOmg/////yVKPgAAaAUAAADpkP////8lQj4AAGgGAAAA6YD/////JTo+AABoBwAAAOlw/////yUy
PgAAaAgAAADpYP////8lKj4AAGgJAAAA6VD/////JSI+AABoCgAAAOlA/////yUaPgAAaAsAAADp
MP////8lEj4AAGgMAAAA6SD/////JQo+AABoDQAAAOkQ/////yUCPgAAaA4AAADpAP////8l+j0A
AGgPAAAA6fD+////JfI9AABoEAAAAOng/v///yXqPQAAaBEAAADp0P7///8l4j0AAGgSAAAA6cD+
////Jdo9AABoEwAAAOmw/v///yXSPQAAaBQAAADpoP7///8lyj0AAGgVAAAA6ZD+////JcI9AABo
FgAAAOmA/v///yW6PQAAaBcAAADpcP7///8lsj0AAGgYAAAA6WD+////Jao9AABoGQAAAOlQ/v//
/yWiPQAAaBoAAADpQP7///8lmj0AAGgbAAAA6TD+////JZI9AABoHAAAAOkg/v///yWKPQAAaB0A
AADpEP7///8lgj0AAGgeAAAA6QD+////JXo9AABoHwAAAOnw/f///yVyPQAAaCAAAADp4P3///8l
aj0AAGghAAAA6dD9////JWI9AABoIgAAAOnA/f///yVaPQAAaCMAAADpsP3///8lUj0AAGgkAAAA
6aD9////JUo9AABoJQAAAOmQ/f///yViPQAAZpAAAAAAAAAAAEFVTI0tFyQAAEFUSYn0VYn9U7v/
////SIPsCMcF2z0AAAAAAADHBdk9AAAAAAAAkEiNFYgdAABMieaJ7+j//v//g/j/D4QQAgAAg/v/
dXSD6DqD+Dx32UljRIUATAHo/+CDPZg9AAAAD4XFAQAASI09Qh0AAMcFgT0AAAMAAADoDP3//0iJ
BZU9AABIhcB1oEiLDSk9AAC6QgAAAL4BAAAASI09oB8AAOjT/v//SI0VCx0AAEyJ5onvuwEAAADo
ff7///fTSI091CAAAOj//P//idj30FpbXUFcQV3DgwU0PQAAAelH////gz0QPQAAAA+F7wAAAEiL
BaM8AADHBfk8AAADAAAASIkFEj0AAOkd////SI0VpRwAAEyJ5onvMdvoGv7//+ubgz3RPAAAAA+F
1wAAAEiLBWQ8AADHBbo8AAABAAAASIkFuzwAAOne/v//gz2nPAAAAHVjSIs9PjwAALoKAAAAMfbH
BY08AAACAAAA6Dj9//+JBYo8AADprf7//78BAAAASI0NPhwAAEiNFT8cAAAxwEiNNfEeAADoXP3/
/zH/6MX9//9IiwXuOwAASIkFVzwAAOly/v//uhwAAABIiw32OwAAvgEAAABIjT3EGwAAuwIAAADo
oP3//+l2////uhwAAABIiw3POwAAvgEAAABIjT2dGwAAuwIAAADoef3//+nq/v//uhwAAABIiw2o
OwAAvgEAAABIjT12GwAAuwIAAADoUv3//+kC////uhwAAABIiw2BOwAAvgEAAABIjT1PGwAAuwIA
AADoK/3//+kU/v//g/v/D4Vg/v//SGMdHjsAAIXbD4hT/v//Kd2F7X5XTIstoTsAAE2F7XQ5TInv
6BT9//9IiQV1OwAAQYB9AAB0I2YPH0QAAEHGRQB4SIsFdDsAAEyNaAFMiS1pOwAAgHgBAHXjWUmN
NNyJ71tdQVxBXenRCAAASI09yh4AAOj1+v//McDp8/3//2YuDx+EAAAAAAAPH0AAMe1JidFeSIni
SIPk8FBUTI0FKg4AAEiNDcMNAABIjT3s/P///xUmOgAA9A8fRAAASI09WToAAEiNBVI6AABIOfh0
FUiLBf45AABIhcB0Cf/gDx+AAAAAAMMPH4AAAAAASI09KToAAEiNNSI6AABIKf5IifBIwe4/SMH4
A0gBxkjR/nQUSIsF1TkAAEiFwHQI/+BmDx9EAADDDx+AAAAAAIA9MToAAAB1L1VIgz22OQAAAEiJ
5XQMSIs9ujkAAOg9/P//6Gj////GBQk6AAABXcMPH4AAAAAAww8fgAAAAADpe////2YuDx+EAAAA
AACQw2ZmLg8fhAAAAAAADx9AAEFUvhNUAABIg+wQiz07OgAAZEiLBCUoAAAASIlEJAgxwEmJ5EyJ
4ugk+v//hcB0IEiLRCQIZEgrBCUoAAAAdSVIg8QQQVzDZg8fhAAAAAAAiz3yOQAATInivhRUAADo
7fn//+vL6Lb5//9mDx9EAABVif1Iiz0WOQAA6IH6//+D/QJ0JIP9FHR3iz1lOQAAhf8Pj6kAAADH
BU85AAABAAAAXcMPH0QAAIs9mjkAALoBAAAASI01uhgAAOhB+f//SIP4AXTSSIXAeFxIiz3/OAAA
SYnAMcC5AQAAAEiNFRYZAAC+AQAAAOi0+v//XccF+TgAAAEAAADDDx+EAAAAAACLPUI5AAC6AQAA
AEiNNXoYAADo6fj//0iD+AEPhHb///9IhcB5pEiNPUkYAADoDvr//13HBbM4AAABAAAAw2aQie7o
mfn//13HBZ44AAABAAAAw2ZmLg8fhAAAAAAAZpBIY8FJicAPtgQHhMB0OkiF0n41SI0MFusQDx+A
AAAAAEiDxgFIOc50Hw+2FkGDwAE4wnQJRTHAOBdBD5TASWPAD7YEB4TAddhEicDDDx9AAEFXQYn/
QVZMjTU6GAAAQVVBVEGJ9FVTSIPsOGRIiwQlKAAAAEiJRCQoMcBJieW6KAAAAEyJ7kSJ/+iS+P//
hcB+E4PoAUyJ60iNbAQBDx8AgDsKdWu6AQAAAEiNNbQXAABEiefo5/f//0iD+AEPhNUAAABIhcAP
iKIAAABIi0wkKGRIKwwlKAAAAA+F1wAAAEiLPYk3AABIg8Q4SYnAMcBbuQEAAABdvgEAAABBXEiN
FZMXAABBXUFeQV/pMPn//7oBAAAASIneRInn6ID3//9Ig/gBdCNIhcB4NUmJwEiLPTs3AABMifIx
wLkBAAAAvgEAAADo9/j//0iDwwFIOd0PhUr////pI////w8fRAAASI09rxYAAOh0+P//69tIi0Qk
KGRIKwQlKAAAAHU5SIPEOEiNPY0WAABbXUFcQV1BXkFf6Uj4//9Ii0QkKGRIKwQlKAAAAHUPSIPE
OFtdQVxBXUFeQV/D6AT3//8PH0AAiwXqNgAAQVVBVFWJ/YP4Ag+ECgEAAHdAhcAPhPAAAABIiz3R
NgAAMfYxwOjg9///QYnEg/j/D4T8AAAAie6Jx+hL/v//XUSJ50FcQV3p7vb//2YPH0QAAIP4Aw+F
nwAAAEyLLZA2AABMie/ogPb//0yJ7onvSInCSYnE6GD2//9MOeB0KUiFwA+I6gAAAEiLPRs2AABJ
icBMieExwEiNFTQWAAC+AQAAAOjS9///ugEAAABIjTXrFQAAie/oH/b//0iD+AF0OUiFwA+IkAAA
AEmJwLkBAAAASI0V+RUAAEiLPco1AABdvgEAAAAxwEFcQV3piff//2YPH4QAAAAAAF1BXEFdw2Yu
Dx+EAAAAAABdif5BXDH/QV3pcv3//2aQif6LPdA1AABdQVxBXele/f//Zg8fRAAA6HP1//+LOOhc
9///SIsNrTUAAEiNFcYVAABJicDriGYPH4QAAAAAAF1IjT3uFAAAQVxBXemv9v//Dx+AAAAAAEiN
PdcUAADonPb//+kl////Dx+AAAAAAEFUVYn9U0iB7BABAABkSIsEJSgAAABIiYQkCAEAAEiLBUs1
AABIhcB0B0iJBac0AABEiwVANQAARYXAdA6LPY00AACF/w+FLQIAAEiJ47r/AAAAie9Iid7oc/X/
/4s1FTUAAExj4ELGBCQAhfYPhd0BAABIYwUaNQAASIs9VzQAAA+2FAdIicGE0nQ/TYXkD447AQAA
SInYTY0EHOsPZpBIg8ABSTnAD4QjAQAAD7Ywg8EBQDjWdAgxyUA4Nw+UwUhj0Q+2FBeE0nXVixW/
NAAAiQ29NAAAiwWbNAAAhdIPhbsAAACFwA+F5QEAAInv6Hz9///HBZY0AAAAAAAAxwWINAAAAQAA
AEhjNX00AABIjT2aGwAAD7YUN0iJ8YTSdDdNheR+MkiJ2E2NBBzrCpBIg8ABSTnAdB8PtjCDwQFA
ONZ0CTHJQID+VA+UwUhj8Q+2FDeE0nXYgDw3AIkNKjQAAHV8iw0ONAAAQbwGAAAAhckPhTgBAABI
i4QkCAEAAGRIKwQlKAAAAA+FZQEAAEiBxBABAABEieBbXUFcw2aQQbwFAAAAhcB0zkiLDW8zAAC6
PgAAAL4BAAAASI09ZhQAAOgZ9f//668PH4AAAAAAiQ2+MwAA6S3///8PH0QAAEhjNaEzAABIjT2S
GgAAD7YUN0iJ8YTSdDdNheR+MkkB3OsODx9EAABIg8MBSTncdB8PtjODwQFAONZ0CTHJQID+ZA+U
wUhj8Q+2FDeE0nXYgDw3AYkNTjMAAEUZ5EGD5AfpMv///2YuDx+EAAAAAABIiz3JMgAASInZvgEA
AAAxwEiNFXYSAADog/T//+kB/v//Zg8fRAAASIsNWTIAAEiLPZoyAABIjRUrEwAAMcDHBTcyAAAA
AAAAvgEAAADoTfT//+mj/f//Dx+EAAAAAABIiw1pMgAAujcAAAC+AQAAAEiNPaATAADoE/T//+mm
/v//SIsNRzIAALosAAAAvgEAAABIjT0OEwAA6PHz///p+f3//+h38v//Dx+AAAAAAEFXQVZBVUFU
VUiJ9UiNNS34//9Tifu/EQAAAEiB7LgBAABkSIsEJSgAAABIiYQkqAEAADHA6Kby//+/AgAAAOjc
8///iQVOMgAAg/j/D4QdBAAAice6AAgAADHAvgQAAADo2vH//0SLJSsyAABEiefoS/P//4XAD4Wr
AwAARInn6Gvy//9BicSFwA+FwAMAAEiNPVoRAAAx9jHA6ODy//9Eiy3xMQAAiQXvMQAAiceD+P8P
hegBAABEie9MjbQkoAAAAEyNbCQg6DPx//9MifdJicfoKPL//0yJ7+gg8v//vhEAAABMie/oQ/P/
/74BAAAATInv6Dbz//++DwAAAEyJ7+gp8///vgIAAABMie/oHPP//74UAAAATInv6A/z//8x0kyJ
7r8CAAAA6ODw//9IjTWJ9///vwEAAADon/H//0iNNXj3//+/DwAAAOiO8f//SI01Z/f//78CAAAA
6H3x//9IjTVW9///vxQAAADobPH//+jH8v//iQXFMAAAhcAPhPEBAAAPiCMDAAC+AgEAAEyJ/zHA
vRAAAADo3/H//8dEJBQAAAAATI1sJBSJRCQMZg8fRAAARYXkD4WfAQAATI28JCABAABIielEieBM
if/880irSGM9uzAAALsBAAAA6Knw//+LPaswAAAx0k2J8UmJwEyJ/on4wfgfwegajQwHg8cBg+E/
KcFIidhI0+AxyUoJhMQgAQAARTHA6F3w//+FwA+PxQAAAIs9EzAAALoBAAAATInu6DLx//+FwA+E
cv///4tUJBSJ0IPgfw+E6wEAAIPAATwBD45Y////RYXkuP8AAABED07gDx9AAEiLhCSoAQAAZEgr
BCUoAAAAD4VAAgAASIHEuAEAAESJ4FtdQVxBXUFeQV/DDx9AAEyNdCQYvhNUAAAxwEyJ8ujs7///
RIst3S8AAIXAD4X1/f//SI01hvX//78cAAAA6Azw//9MifK+FFQAAESJ7zHA6Lrv///pzf3//w8f
RAAASGM9oS8AAOiU7///iz2WLwAASYnAifjB+B/B6BqNDAeD4T8pwUjT40ojnMQgAQAAD4QF////
6NX5//+Jw4XAD4T2/v//fhSLPVsvAADobu///4t8JAzoZe///4t8JAxBidzoWe///+nP/v//Dx9A
AIs93i4AADHSTInu6ADw///pyf7//w8fADHSTIn2vwIAAADoie7//+g07///vgIAAABMif8xwOjl
7///vg5UAABBicSJxzHA6PTu//+D+P8PhNsAAABEiedEjWMB6O/u//9NY+SLPc4uAABJweQD6N3u
//9MiefoZe///0iJwYXbfhpIY9NIie5IicdIweID6Czv//9IicFKjUQg+EjHAAAAAABIizlIic7o
ou///0iNPUsQAADodu///78DAAAA6Kzv//8PH0AASI09kQ8AAEG8AwAAAOhW7///6TH+//+QD7bW
RYXkRA9O4ukh/v//kEiNPZkPAABBvAMAAADoLu///+kJ/v//Zg8fhAAAAAAASI09KQ8AAEG8AwAA
AOgO7///6en9//9mDx+EAAAAAABIjT2BDwAA6PTu//+/AwAAAOgq7///Zi4PH4QAAAAAAEiNPckP
AABBvAMAAADozu7//+mp/f//6KTt//8PH0AAQVRJidTodu3//0k5xHRBSIXAeCxIiz01LQAASYnA
TInhMcBIjRVODQAAvgEAAABBXOnq7v//Zi4PH4QAAAAAAEiNPa8MAABBXOly7v//ZpBBXMNmLg8f
hAAAAAAADx8AQVdMjT0XKQAAQVZJidZBVUmJ9UFUQYn8VUiNLQgpAABTTCn9SIPsCOhj7P//SMH9
A3QbMdsPHwBMifJMie5EiedB/xTfSIPDAUg53XXqSIPECFtdQVxBXUFeQV/DDx8AwwAAAEiD7AhI
g8QIwwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQACAAMAU1NIUEFTUzogd3JpdGUgZmFp
bGVkABoAU1NIUEFTUzogcmVhZDogJXMKAC9kZXYvdHR5AENvbmZsaWN0aW5nIHBhc3N3b3JkIHNv
dXJjZQoAU1NIUEFTUwArZjpkOnA6UDpoZVZ2AGFzc3dvcmQAc3NocGFzcyAxLjA5AAAAAAAAAFNT
SFBBU1M6IFNob3J0IHdyaXRlLiBUcmllZCB0byB3cml0ZSAlbHUsIG9ubHkgd3JvdGUgJWxkCgAA
AAAAAABTU0hQQVNTOiBGYWlsZWQgdG8gb3BlbiBwYXNzd29yZCBmaWxlICIlcyI6ICVzCgBTU0hQ
QVNTOiBzZWFyY2hpbmcgZm9yIHBhc3N3b3JkIHByb21wdCB1c2luZyBtYXRjaCAiJXMiCgAAAAAA
AAAAU1NIUEFTUzogZGV0ZWN0ZWQgcHJvbXB0LiBTZW5kaW5nIHBhc3N3b3JkLgoAAAAAU1NIUEFT
UzogZGV0ZWN0ZWQgcHJvbXB0LCBhZ2Fpbi4gV3JvbmcgcGFzc3dvcmQuIFRlcm1pbmF0aW5nLgoA
AFNTSFBBU1M6IGRldGVjdGVkIGhvc3QgYXV0aGVudGljYXRpb24gcHJvbXB0LiBFeGl0aW5nLgoA
RmFpbGVkIHRvIGdldCBhIHBzZXVkbyB0ZXJtaW5hbABGYWlsZWQgdG8gY2hhbmdlIHBzZXVkbyB0
ZXJtaW5hbCdzIHBlcm1pc3Npb24AAABGYWlsZWQgdG8gdW5sb2NrIHBzZXVkbyB0ZXJtaW5hbAAA
AAAAAAAAc3NocGFzczogRmFpbGVkIHRvIHNldCBjb250cm9sbGluZyB0ZXJtaW5hbCBpbiBjaGls
ZCAoVElPQ1NDVFRZKQAAAAAAAAAAU1NIUEFTUzogRmFpbGVkIHRvIHJ1biBjb21tYW5kAABTU0hQ
QVNTOiBGYWlsZWQgdG8gY3JlYXRlIGNoaWxkIHByb2Nlc3MAU1NIUEFTUzogLWUgb3B0aW9uIGdp
dmVuIGJ1dCBTU0hQQVNTIGVudmlyb25tZW50IHZhcmlhYmxlIG5vdCBzZXQKAAAAAAAAJXMKKEMp
IDIwMDYtMjAxMSBMaW5nbnUgT3BlbiBTb3VyY2UgQ29uc3VsdGluZyBMdGQuCihDKSAyMDE1LTIw
MTYsIDIwMjEgU2hhY2hhciBTaGVtZXNoClRoaXMgcHJvZ3JhbSBpcyBmcmVlIHNvZnR3YXJlLCBh
bmQgY2FuIGJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR1BMClNlZSB0aGUg
Q09QWUlORyBmaWxlIGZvciBtb3JlIGluZm9ybWF0aW9uLgoKVXNpbmcgIiVzIiBhcyB0aGUgZGVm
YXVsdCBwYXNzd29yZCBwcm9tcHQgaW5kaWNhdG9yLgoAAAAAAABVc2FnZTogc3NocGFzcyBbLWZ8
LWR8LXB8LWVdIFstaFZdIGNvbW1hbmQgcGFyYW1ldGVycwogICAtZiBmaWxlbmFtZSAgIFRha2Ug
cGFzc3dvcmQgdG8gdXNlIGZyb20gZmlsZQogICAtZCBudW1iZXIgICAgIFVzZSBudW1iZXIgYXMg
ZmlsZSBkZXNjcmlwdG9yIGZvciBnZXR0aW5nIHBhc3N3b3JkCiAgIC1wIHBhc3N3b3JkICAgUHJv
dmlkZSBwYXNzd29yZCBhcyBhcmd1bWVudCAoc2VjdXJpdHkgdW53aXNlKQogICAtZSAgICAgICAg
ICAgIFBhc3N3b3JkIGlzIHBhc3NlZCBhcyBlbnYtdmFyICJTU0hQQVNTIgogICBXaXRoIG5vIHBh
cmFtZXRlcnMgLSBwYXNzd29yZCB3aWxsIGJlIHRha2VuIGZyb20gc3RkaW4KCiAgIC1QIHByb21w
dCAgICAgV2hpY2ggc3RyaW5nIHNob3VsZCBzc2hwYXNzIHNlYXJjaCBmb3IgdG8gZGV0ZWN0IGEg
cGFzc3dvcmQgcHJvbXB0CiAgIC12ICAgICAgICAgICAgQmUgdmVyYm9zZSBhYm91dCB3aGF0IHlv
dSdyZSBkb2luZwogICAtaCAgICAgICAgICAgIFNob3cgaGVscCAodGhpcyBzY3JlZW4pCiAgIC1W
ICAgICAgICAgICAgUHJpbnQgdmVyc2lvbiBpbmZvcm1hdGlvbgpBdCBtb3N0IG9uZSBvZiAtZiwg
LWQsIC1wIG9yIC1lIHNob3VsZCBiZSB1c2VkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAjdz//xDc
//8Q3P//ENz//xDc//+N3P//ENz//xDc//8Q3P//ENz//xDc//8Q3P//ENz//xDc//8Q3P//ENz/
/xDc//8Q3P//ENz//xDc//8Q3P//ENz//4vd//8Q3P//ENz//xDc//8Q3P//ENz//2Pd//8Q3P//
ENz//xDc//8Q3P//ENz//xDc//8Q3P//ENz//xDc//8Q3P//ENz//xDc//8Q3P//Mt3//0Hc//8I
3f//ENz///Pc//8Q3P//ENz//xDc//8Q3P//ENz//xDc//8Q3P//ydz//xDc//8Q3P//ENz//xDc
//8Q3P//vdz//wAAAAAAAAAAAAAAAGRpZmZlcnMgZnJvbSB0aGUga2V5IGZvciB0aGUgSVAgYWRk
cmVzcwAAAAAAAAAAAFRoZSBhdXRoZW50aWNpdHkgb2YgaG9zdCAAAAABGwM7gAAAAA8AAAAU2P//
zAAAAITa///0AAAAlNr///QCAACE3f//nAAAAHTe//8MAQAAhN7//yABAAD03v//RAEAAOTf//9w
AQAANOD//4QBAACk4f//AAIAADTj//9sAgAANOb//6QCAAAE6///RAMAAGTr//9sAwAAxOv//7QD
AAAUAAAAAAAAAAF6UgABeBABGwwHCJABBxAUAAAAHAAAAODc//8rAAAAAAAAAAAAAAAUAAAAAAAA
AAF6UgABeBABGwwHCJABAAAkAAAAHAAAAEDX//9wAgAAAA4QRg4YSg8LdwiAAD8aOyozJCIAAAAA
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
Y2NlODE5YWZmM2I4NTk3NTUwNjhlOTdhNWZkMjVjNmZlYzMwOGYuZGVidWcAAAAA8/N0eQAuc2hz
dHJ0YWIALmludGVycAAubm90ZS5nbnUuYnVpbGQtaWQALm5vdGUuQUJJLXRhZwAuZ251Lmhhc2gA
LmR5bnN5bQAuZHluc3RyAC5nbnUudmVyc2lvbgAuZ251LnZlcnNpb25fcgAucmVsYS5keW4ALnJl
bGEucGx0AC5pbml0AC5wbHQuZ290AC50ZXh0AC5maW5pAC5yb2RhdGEALmVoX2ZyYW1lX2hkcgAu
ZWhfZnJhbWUALmluaXRfYXJyYXkALmZpbmlfYXJyYXkALmR5bmFtaWMALmRhdGEALmJzcwAuZ251
X2RlYnVnbGluawAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAACwAAAAEAAAACAAAAAAAAAKgCAAAAAAAAqAIAAAAAAAAcAAAAAAAA
AAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAABMAAAAHAAAAAgAAAAAAAADEAgAAAAAAAMQCAAAAAAAA
JAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAmAAAABwAAAAIAAAAAAAAA6AIAAAAAAADo
AgAAAAAAACAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAANAAAAPb//28CAAAAAAAAAAgD
AAAAAAAACAMAAAAAAAA4AAAAAAAAAAUAAAAAAAAACAAAAAAAAAAAAAAAAAAAAD4AAAALAAAAAgAA
AAAAAABAAwAAAAAAAEADAAAAAAAAgAQAAAAAAAAGAAAAAQAAAAgAAAAAAAAAGAAAAAAAAABGAAAA
AwAAAAIAAAAAAAAAwAcAAAAAAADABwAAAAAAAPoBAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAA
AAAATgAAAP///28CAAAAAAAAALoJAAAAAAAAugkAAAAAAABgAAAAAAAAAAUAAAAAAAAAAgAAAAAA
AAACAAAAAAAAAFsAAAD+//9vAgAAAAAAAAAgCgAAAAAAACAKAAAAAAAAYAAAAAAAAAAGAAAAAQAA
AAgAAAAAAAAAAAAAAAAAAABqAAAABAAAAAIAAAAAAAAAgAoAAAAAAACACgAAAAAAADgBAAAAAAAA
BQAAAAAAAAAIAAAAAAAAABgAAAAAAAAAdAAAAAQAAABCAAAAAAAAALgLAAAAAAAAuAsAAAAAAACQ
AwAAAAAAAAUAAAAWAAAACAAAAAAAAAAYAAAAAAAAAH4AAAABAAAABgAAAAAAAAAAEAAAAAAAAAAQ
AAAAAAAAFwAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAB5AAAAAQAAAAYAAAAAAAAAIBAA
AAAAAAAgEAAAAAAAAHACAAAAAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAhAAAAAEAAAAGAAAA
AAAAAJASAAAAAAAAkBIAAAAAAAAIAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAIAAAAAAAAAI0AAAAB
AAAABgAAAAAAAACgEgAAAAAAAKASAAAAAAAAMREAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAA
AACTAAAAAQAAAAYAAAAAAAAA1CMAAAAAAADUIwAAAAAAAAkAAAAAAAAAAAAAAAAAAAAEAAAAAAAA
AAAAAAAAAAAAmQAAAAEAAAACAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAKCAAAAAAAAAAAAAAAAAAA
IAAAAAAAAAAAAAAAAAAAAKEAAAABAAAAAgAAAAAAAAAMOAAAAAAAAAw4AAAAAAAAhAAAAAAAAAAA
AAAAAAAAAAQAAAAAAAAAAAAAAAAAAACvAAAAAQAAAAIAAAAAAAAAkDgAAAAAAACQOAAAAAAAAEgD
AAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAuQAAAA4AAAADAAAAAAAAAJBMAAAAAAAAkDwA
AAAAAAAIAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAIAAAAAAAAAMUAAAAPAAAAAwAAAAAAAACYTAAA
AAAAAJg8AAAAAAAACAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAACAAAAAAAAADRAAAABgAAAAMAAAAA
AAAAoEwAAAAAAACgPAAAAAAAAPABAAAAAAAABgAAAAAAAAAIAAAAAAAAABAAAAAAAAAAiAAAAAEA
AAADAAAAAAAAAJBOAAAAAAAAkD4AAAAAAABwAQAAAAAAAAAAAAAAAAAACAAAAAAAAAAIAAAAAAAA
ANoAAAABAAAAAwAAAAAAAAAAUAAAAAAAAABAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAA
AAAAAAAAAADgAAAACAAAAAMAAAAAAAAAIFAAAAAAAAAgQAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAg
AAAAAAAAAAAAAAAAAAAA5QAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAIEAAAAAAAAA0AAAAAAAAAAAA
AAAAAAAABAAAAAAAAAAAAAAAAAAAAAEAAAADAAAAAAAAAAAAAAAAAAAAAAAAAFRAAAAAAAAA9AAA
AAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAA="

#####################################################################################
# Create a temp file to store sshpass:
TEMPSSHPASS=$(mktemp)

# Base64 decode sshpass executable to TEMPSSHPASS file"
echo "$ENCODEDSSHPASS" | base64 -d > "$TEMPSSHPASS"

# Make TEMPSSHPASS executable:
chmod a+x $TEMPSSHPASS

# Prompt user for password:
echo -n "Temp Password:"
read -s TMPPASSWD
echo "" | tee -a "$LOGFILE"
LINE | tee -a "$LOGFILE"
#####################################################################################


# Create PSSH & PSCP commands:
PSSHCMD="$TEMPSSHPASS -p "$TMPPASSWD" parallel-ssh -i -A -P -O "StrictHostKeyChecking=no" -O UserKnownHostsFile=/dev/null -t 0 -h $SENSORS -l $SDUSERNAME unset HISTFILE "
PSCPCMD="$TEMPSSHPASS -p "$TMPPASSWD" parallel-scp -A -O "StrictHostKeyChecking=no" -O UserKnownHostsFile=/dev/null -t 0 -h $SENSORS -l $SDUSERNAME "

# PSSHCMD="$TEMPSSHPASS -p "$TMPPASSWD" parallel-ssh -o /tmp/pssh_$TIMESTAMP -i -A -P -O "StrictHostKeyChecking=no" -t 0 -h $SENSORS -l $SDUSERNAME unset HISTFILE "
# PSCPCMD="$TEMPSSHPASS -p "$TMPPASSWD" parallel-scp -o /tmp/pscp_$TIMESTAMP -A -O "StrictHostKeyChecking=no" -t 0 -h $SENSORS -l $SDUSERNAME "

# Create PSCP commands for each Sensor and OS upgrade:
PSCPSENSORCMD="$PSCPCMD $SENSORUPGRADE $HOMEPATH"
PSCPOSCMD="$PSCPCMD $OSUPGRADE $HOMEPATH"

#####################################################################################
echo "Home Path: $HOMEPATH" | tee -a "$LOGFILE"
echo "Sensor Upgrade: $SENSORUPGRADE" | tee -a "$LOGFILE"

# Create INSTALL Sensor upgrade command:
INSTALLSENSORCMD="$PSSHCMD && echo $TMPPASSWD | sudo -S chmod a+x $SENSORUPGRADE && echo $TMPPASSWD | sudo $SENSORUPGRADE 2>&1"

# Create INSTALL OS upgrade command:
OSUPGRADECMD="$PSSHCMD && echo $TMPPASSWD | sudo -S chmod a+x $OSUPGRADE && echo $TMPPASSWD | sudo -S $OSUPGRADE 2>&1"

# Create REBOOT command:
REBOOTCMD="$PSSHCMD && echo $TMPPASSWD | sudo -S shutdown -r now 2>&1"

# Create file cleanup command:
REMOVALCMD="$PSSHCMD && echo $TMPPASSWD | sudo -S rm -rf $OSUPGRADE $SENSORUPGRADE 2>&1"

#####################################################################################
echo "Getting this party started..." | tee -a "$LOGFILE"
echo "" | tee -a "$LOGFILE"

echo "File Copy Operations:" | tee -a "$LOGFILE"

echo "Copying Sensor Upgrade package:" | tee -a "$LOGFILE"
$PSCPSENSORCMD | tee -a "$LOGFILE"
echo "" | tee -a "$LOGFILE"

echo "Copying OS Upgrade package:" | tee -a "$LOGFILE"
$PSCPOSCMD | tee -a "$LOGFILE"
echo "Done copying OS upgrade package" | tee -a "$LOGFILE"
LINE | tee -a "$LOGFILE"

echo "Installing sensor upgrade package: "
$INSTALLSENSORCMD | tee -a "$LOGFILE"
echo "Completed sensor application upgrade" | tee -a "$LOGFILE"

echo "Rebooting sensors:"
$REBOOTCMD | tee -a "$LOGFILE"
echo "Done rebooting sensors" | tee -a "$LOGFILE"

LINE | tee -a "$LOGFILE"
echo "Sleeping for 10 minutes before attempting OS upgrade" | tee -a "$LOGFILE"
secs=$((10 * 60))
while [ $secs -gt 0 ]; do
   echo -ne "$secs\033[0K\r"
   sleep 1
   : $((secs--))
done

LINE | tee -a "$LOGFILE"
echo "Starting OS Upgrade:" | tee -a "$LOGFILE"
$OSUPGRADECMD | tee -a "$LOGFILE"
echo "" | tee -a "$LOGFILE"

LINE | tee -a "$LOGFILE"

echo "Completed OS upgrade operation. Unsetting password"
unset TMPPASSWD
rm -rf "$TEMPSSHPASS"
echo "Done."

LINE
